import React, { useEffect } from 'react'
import CustomCursor from '../../components/CustomCursor'
import Header from '../../components/Header'
import ServicesHero from './components/ServicesHero'
import AllServices from './components/AllServices'
import HowIWork from './components/HowIWork'
import NextProject from '../../components/NextProject'
import Footer from '../../components/Footer'
import HeroSection from '../../components/HeroSection'
import Layout from '../../components/Layout'
import { useLocation } from 'react-router-dom'
import { useDispatch, useSelector } from 'react-redux'
import { clearSeoPage, findSeoPageBySlug } from '../../features/siteSettingsSlice'

const ServicesPage = () => {
  const location = useLocation()
  const dispatch = useDispatch()
  const { seo_pages, seo_page } = useSelector(state => state.siteSettings)

  // Load SEO Page for home
  useEffect(() => {
    if (seo_pages.length > 0) {
      dispatch(findSeoPageBySlug(location.pathname))
    } else {
      dispatch(clearSeoPage())
    }
  }, [seo_pages, location.pathname, dispatch])
  return (
    <>
      <Layout
        title={seo_page?.metaTitle}
        ogTitle={seo_page?.OGTitle}
        canonical={seo_page?.canonicalURL}
        description={seo_page?.metaDescription}
        keywords={seo_page?.metaKeyword}
        author={'Zain Ul Abbas'}
        metaRobots={seo_page?.metaRobots}
        twitterCard={seo_page?.twitterCardType}
      >
        <CustomCursor />
        <HeroSection
          title="Our"
          gardient_title="Services"
          desc="As a Full Stack Developer, I offer end-to-end solutions to build scalable, user-focused
            web applications using modern technologies like React, Node.js, AWS, and more."
        />
        <AllServices />
        <HowIWork />
        <NextProject />
      </Layout>
    </>
  )
}

export default ServicesPage
